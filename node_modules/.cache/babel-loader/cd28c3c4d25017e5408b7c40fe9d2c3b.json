{"ast":null,"code":"var _jsxFileName = \"/home/russ/Documents/spotify/spotify-react-demo/src/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { setSpotifyAccess, setSpotifyAccessToken, setSpotifyTokenExpirationTime } from './LocalStorageData';\nimport { SpotifyAccess } from './SpotifyAccess';\nimport { getTokenFromResponse } from './login/spotify'; // const hashStr = window.location.hash; // everything in address after #, here spotify puts successfull auth tokens\n// const searchStr = window.location.search; // everything in address after ?, here spotify puts access denials\n// const hashParams = decodeHashParams(hashStr.slice(1, hashStr.length));\n// const searchParams = decodeHashParams(searchStr.slice(1, searchStr.length));\n// console.log('hash',hashParams.access_token)\n// if (hashParams.access_token) {\n//     console.log('access', hashParams.access_token)\n//     setSpotifyAccess(SpotifyAccess.ALLOWED);\n//     setSpotifyAccessToken(hashParams.access_token);\n//     setSpotifyTokenExpirationTime(hashParams.expires_in);\n//     window.close();\n// } else if (searchParams.error) {\n//     setSpotifyAccess(SpotifyAccess.DENIED);\n//     window.close();\n// } else {\n//     ReactDOM.render(<App />, document.getElementById('root'));\n// }\n\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));\n/**\n * decodes a parameter string (p1=v1&p2=v2&... syntax) into the object {p1: v1, p2: v2, ...}\n */\n// const decodeHashParams = () => {\n//   console.log('on decodedHash');\n//   // console.log('in index')\n//   // const hashParams: { [key: string]: string } = {};\n//   // const a = /\\+/g;  // Regex for replacing addition symbol with a space\n//   // const r = /([^&;=]+)=?([^&;]*)/g;\n//   // const d = (s: string) => decodeURIComponent(s.replace(a, \" \"));\n//   // let e;\n//   // while (e = r.exec(str)) {\n//   //     hashParams[d(e[1])] = d(e[2]);\n//   // }\n//   return <App token={token} />;\n// };\n// export default decodeHashParams;","map":{"version":3,"sources":["/home/russ/Documents/spotify/spotify-react-demo/src/index.js"],"names":["React","useEffect","useState","ReactDOM","App","setSpotifyAccess","setSpotifyAccessToken","setSpotifyTokenExpirationTime","SpotifyAccess","getTokenFromResponse","render","document","getElementById"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SACEC,gBADF,EAEEC,qBAFF,EAGEC,6BAHF,QAIO,oBAJP;AAKA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,oBAAT,QAAqC,iBAArC,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAN,QAAQ,CAACO,MAAT,eAAgB,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhB,EAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {\n  setSpotifyAccess,\n  setSpotifyAccessToken,\n  setSpotifyTokenExpirationTime,\n} from './LocalStorageData';\nimport { SpotifyAccess } from './SpotifyAccess';\nimport { getTokenFromResponse } from './login/spotify';\n\n// const hashStr = window.location.hash; // everything in address after #, here spotify puts successfull auth tokens\n// const searchStr = window.location.search; // everything in address after ?, here spotify puts access denials\n// const hashParams = decodeHashParams(hashStr.slice(1, hashStr.length));\n// const searchParams = decodeHashParams(searchStr.slice(1, searchStr.length));\n\n// console.log('hash',hashParams.access_token)\n// if (hashParams.access_token) {\n//     console.log('access', hashParams.access_token)\n//     setSpotifyAccess(SpotifyAccess.ALLOWED);\n//     setSpotifyAccessToken(hashParams.access_token);\n//     setSpotifyTokenExpirationTime(hashParams.expires_in);\n//     window.close();\n// } else if (searchParams.error) {\n//     setSpotifyAccess(SpotifyAccess.DENIED);\n//     window.close();\n// } else {\n//     ReactDOM.render(<App />, document.getElementById('root'));\n// }\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n/**\n * decodes a parameter string (p1=v1&p2=v2&... syntax) into the object {p1: v1, p2: v2, ...}\n */\n// const decodeHashParams = () => {\n//   console.log('on decodedHash');\n \n\n//   // console.log('in index')\n//   // const hashParams: { [key: string]: string } = {};\n//   // const a = /\\+/g;  // Regex for replacing addition symbol with a space\n//   // const r = /([^&;=]+)=?([^&;]*)/g;\n//   // const d = (s: string) => decodeURIComponent(s.replace(a, \" \"));\n//   // let e;\n\n//   // while (e = r.exec(str)) {\n//   //     hashParams[d(e[1])] = d(e[2]);\n//   // }\n//   return <App token={token} />;\n// };\n// export default decodeHashParams;\n"]},"metadata":{},"sourceType":"module"}